<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="s_enter">
	   
    <select id="senterBoardSearch" parameterType="hashmap" resultType="hashmap">
    <include refid="common.senter_pagingPre"/>
    <![CDATA[
             SELECT
	         IDX,
	         gyumo,
             bunya,
             upjomg,
             pe_sts,
             sa_type,
             company_name,
             area,
             certi_situ,
             certi_year,
             certi_type,
             biz_detail,
             sa_number,
             su_date,
             company_zip,
             company_address,
             ceo_name,
             p_number,
             c_number,
             e_mail,
             homepage,
             req_date,
             CONTENTS			 
             FROM s_enterprise
             WHERE
              company_name like '%${company_name}%'
              AND DEL_GB = 'N'
             ORDER BY req_date DESC
			 ]]>
    <include refid="common.senter_SearchpagingPost"/>
    </select>
    
    <select id="senterBoardList" parameterType="hashmap" resultType="hashmap">
    <include refid="common.senter_pagingPre"/>
    <![CDATA[
             SELECT
	         IDX,
	         gyumo,
             bunya,
             upjomg,
             pe_sts,
             sa_type,
             company_name,
             area,
             certi_situ,
             certi_year,
             certi_type,
             biz_detail,
             sa_number,
             su_date,
             company_zip,
             company_address,
             ceo_name,
             p_number,
             c_number,
             e_mail,
             homepage,
             req_date,
             CONTENTS			 
             FROM s_enterprise
             WHERE
             DEL_GB = 'N'
             ORDER BY req_date DESC
			 ]]>
    <include refid="common.senter_pagingPost"/>
    </select>
    <insert id="insertSenterprise" parameterType="hashmap" useGeneratedKeys="true" keyProperty="IDX">
    
        INSERT INTO s_enterprise
        (
            gyumo,
            bunya,
            upjomg,
            pe_sts,
            sa_type,
            company_name,
            area,
            certi_situ,
            certi_year,
            certi_type,
            biz_detail,
            sa_number,
            su_date,
            company_zip,
            company_address,
            ceo_name,
            p_number,
            c_number,
            e_mail,
            homepage,
            req_date,
            CONTENTS
        )
        VALUES
            ("${gyumo}",
             "${bunya}",
             "${upjomg}",
             "${pe_sts}",
             "${sa_type}",
             "${company_name}",
             "${area}",
             "${certi_situ}",
             "${certi_year}",
             "${certi_type}",             
             "${biz_detail}",
             "${sa_number}",
             "${su_date}",
             "${company_zip}",
             "${company_address}",
             "${ceo_name}",
             "${p_number}",
             "${c_number}",
             "${e_mail}",
             "${homepage}",
             NOW(),
             "${CONTENTS}")    
      </insert>
      <insert id="insertSenter_Mony" parameterType="hashmap" useGeneratedKeys="true" keyProperty="IDX">
    
        INSERT INTO s_enterprise_mony
        (
            board_seq,
            years,
            ja_mony,
            me_mony,
            ji_list,
            ji_mony,            
            req_date
        )
        VALUES
            ("${idx}",
             "${years}",
             "${ja_mony}",
             "${me_mony}",
             "${ji_list}",
             "${ji_mony}",             
             NOW())    
      </insert>      
      <select id="selectSenterpriseDetail" parameterType="hashmap" resultType="hashmap">
    <![CDATA[
        SELECT
             IDX,
             gyumo,
             bunya,
             upjomg,
             pe_sts,
             sa_type,
             company_name,
             area,
             certi_situ,
             certi_year,
             certi_type,
             biz_detail,
             sa_number,
             su_date,
             company_zip,
             company_address,
             ceo_name,
             p_number,
             c_number,
             e_mail,
             homepage,
             req_date,
             CONTENTS			 
             FROM s_enterprise
        WHERE
            IDX = #{IDX}
        AND
            DEL_GB = 'N'       
    ]]>
      </select>
      <select id="selectSenterprise_Mony" parameterType="hashmap" resultType="hashmap">
    <![CDATA[
        SELECT
             IDX,
             board_seq,
             years,
             ja_mony,
             me_mony,
             ji_list,
             ji_mony,
             req_date
             FROM s_enterprise_mony
        WHERE
            board_seq = #{IDX}
        AND
            DEL_GB = 'N'       
    ]]>
      </select>           

</mapper>